<div class="container">
  <div class="col-sm-8 col-sm-offset-2">
    <form *ngIf="orderForm" [formGroup]="orderForm" (ngSubmit)="onSubmitForm()">
      <h2>Update order</h2>


      <div class="form-group">
        <label for="user">User</label>
        <select id="user" class="custom-select" formControlName="user">
          <option value=""></option>
          <option *ngFor="let user of users;" value="{{user.id}}">{{user.email}}</option>
        </select>
      </div>

      <div class="form-group">
        <label for="address">Address</label>
        <select id="address" class="custom-select" formControlName="address">
          <option ></option>
          <option *ngFor="let addr of address;" value="{{addr.id}}">{{addr.name}}</option>
        </select>
      </div>

      <div class="form-group">
        <label for="send">Send</label>
        <select id="send" class="custom-select" formControlName="send">
          <option ></option>
          <option *ngFor="let send of sends;" value="{{send.id}}">{{send.id}}</option>
        </select>
      </div>

      <div class="form-group">
        <label for="date">Date</label>
        <input type="datetime-local" id="date" class="form-control" formControlName="date">
      </div>

      <div class="form-group">
        <label for="price">Price</label>
        <input type="number" id="price" class="form-control" formControlName="price">
      </div>

      <div class="form-group">
        <label for="coin">Used Coin</label>
        <input type="number" id="coin" class="form-control" formControlName="coin">
      </div>

      <div class="form-group">
        <label for="reducedPrice">Reduced Price</label>
        <input type="number" id="reducedPrice" class="form-control" formControlName="reducedPrice">
      </div>


      <div class="form-group" >
        <label for="send">Product</label>

        <div class="row" *ngFor="let product of selectedProduct;">
          <div class="col">
            <a [routerLink]="'/admin/product/'+product.id"> {{product.name}} S/N: {{product?.serial_number}} </a>
          </div>
          <div class="col-1">
            <button type="button" class="btn btn-dark" (click)="removeProduct(product)">remove</button>
          </div>
        </div>

        <div class="row" *ngFor="let product of addedProduct;">
          <div class="col">
            <a [routerLink]="'/admin/product/'+product.id">new: {{product.name}} S/N: {{product?.serial_number}} </a>
          </div>
          <div class="col-1">
            <button type="button" class="btn btn-dark" (click)="removeProduct(product)">remove</button>
          </div>
        </div>

        <div class="row">
          <div class="col">
            <select id="sel" class="custom-select" #t (change)="selectProduct(t.value)">
              <option value=""></option>
              <option *ngFor="let product of removedProduct;" value="{{product.id}}">removed: {{product.name}}</option>
              <option *ngFor="let product of availableProducts;" value="{{product.id}}">{{product.name}}</option>
            </select>
          </div>
          <div class="col-1">
            <button type="button" class="btn btn-dark" (click)="addProduct()">ajouter</button>
          </div>
        </div>
      </div>

      <button type="submit" class="btn btn-primary" [disabled]="orderForm.invalid">Soumettre</button>
    </form>
  </div>
</div>
